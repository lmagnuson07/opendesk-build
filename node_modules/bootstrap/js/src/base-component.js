/**
 * --------------------------------------------------------------------------
<<<<<<< HEAD
 * Bootstrap (v5.1.3): base-component.js
=======
 * Bootstrap (v5.2.0-beta1): base-component.js
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * --------------------------------------------------------------------------
 */

import Data from './dom/data'
<<<<<<< HEAD
import {
  executeAfterTransition,
  getElement
} from './util/index'
import EventHandler from './dom/event-handler'

/**
 * ------------------------------------------------------------------------
 * Constants
 * ------------------------------------------------------------------------
 */

const VERSION = '5.1.3'

class BaseComponent {
  constructor(element) {
    element = getElement(element)

=======
import { executeAfterTransition, getElement } from './util/index'
import EventHandler from './dom/event-handler'
import Config from './util/config'

/**
 * Constants
 */

const VERSION = '5.2.0-beta1'

/**
 * Class definition
 */

class BaseComponent extends Config {
  constructor(element, config) {
    super()

    element = getElement(element)
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
    if (!element) {
      return
    }

    this._element = element
<<<<<<< HEAD
    Data.set(this._element, this.constructor.DATA_KEY, this)
  }

=======
    this._config = this._getConfig(config)

    Data.set(this._element, this.constructor.DATA_KEY, this)
  }

  // Public
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
  dispose() {
    Data.remove(this._element, this.constructor.DATA_KEY)
    EventHandler.off(this._element, this.constructor.EVENT_KEY)

<<<<<<< HEAD
    Object.getOwnPropertyNames(this).forEach(propertyName => {
      this[propertyName] = null
    })
=======
    for (const propertyName of Object.getOwnPropertyNames(this)) {
      this[propertyName] = null
    }
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
  }

  _queueCallback(callback, element, isAnimated = true) {
    executeAfterTransition(callback, element, isAnimated)
  }

<<<<<<< HEAD
  /** Static */

=======
  _getConfig(config) {
    config = this._mergeConfigObj(config, this._element)
    config = this._configAfterMerge(config)
    this._typeCheckConfig(config)
    return config
  }

  // Static
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
  static getInstance(element) {
    return Data.get(getElement(element), this.DATA_KEY)
  }

  static getOrCreateInstance(element, config = {}) {
    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null)
  }

  static get VERSION() {
    return VERSION
  }

<<<<<<< HEAD
  static get NAME() {
    throw new Error('You have to implement the static method "NAME", for each component!')
  }

=======
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
  static get DATA_KEY() {
    return `bs.${this.NAME}`
  }

  static get EVENT_KEY() {
    return `.${this.DATA_KEY}`
  }
<<<<<<< HEAD
=======

  static eventName(name) {
    return `${name}${this.EVENT_KEY}`
  }
>>>>>>> 25720be54b4b3911b96b878f3e79e36853fd54b4
}

export default BaseComponent
